# AI 多重审核策略方案

## 一、审核层级设计

### 1. 输入审核（Pre-processing）
- **敏感词过滤**：先过滤用户输入中的违规词
- **意图判断**：判断用户意图是否合规
- **风险分级**：低/中/高风险分别处理

### 2. 输出审核（Post-processing）
- **事实核查**：调用外部知识库验证关键信息
- **内容安全**：检测幻觉、偏见、违规内容
- **质量评分**：评估回答的准确性和完整性

### 3. 多模型交叉验证
- **结果对比**：让多个模型回答同一问题
- **投票机制**：选择多数模型认同的答案
- **置信度筛选**：丢弃低于阈值的结果

---

## 二、趋利策略（最佳模型选择）

| 场景 | 推荐模型 | 原因 |
|------|----------|------|
| 知识问答 | Llama 3.3 70B | 幻觉最少，准确度最高 |
| 代码生成 | MiniMax M2.5 / Llama | 代码能力强 |
| 快速原型 | Mixtral 8x7B | 响应速度最快 (42秒) |
| 长文本总结 | 任意长上下文模型 | 均可 |

---

## 三、避害策略（三重保险机制）

```
用户输入 → 审核1(规则) → 模型生成 → 审核2(事实) → 审核3(合规) → 最终输出
```

### 第一层：规则匹配
- 正则表达式匹配敏感词
- 预定义敏感词库
- 简单高效，适合快速过滤

### 第二层：事实核查
- 调用搜索引擎验证关键信息
- 与权威知识库对比
- 检测幻觉内容

### 第三层：人工复核
- 高风险场景（医疗、法律、投资）
- 置信度低于阈值时触发
- 人工确认后放行

---

## 四、高风险场景处理

| 场景 | 处理策略 |
|------|----------|
| 医疗建议 | 禁止给出诊断，加免责声明，建议就医 |
| 法律建议 | 仅提供一般性知识，不构成法律意见 |
| 投资理财 | 禁止具体买卖建议，仅提供风险提示 |
| 政治敏感 | 一律拒答或安全转向 |

---

## 五、自动化流程伪代码

```python
def smart_ask(prompt: str) -> str:
    # 1. 输入审核
    if is_sensitive(prompt):
        return "抱歉，这个问题我无法回答"
    
    # 2. 多模型并行调用
    results = parallel_call([
        ("llama-3.3-70b", prompt),
        ("mixtral-8x7b", prompt),
        ("minimax-m2.5", prompt)
    ])
    
    # 3. 事实核查
    for r in results:
        r["verified"] = fact_check(r["answer"])
        r["score"] = calculate_score(r)
    
    # 4. 选择最佳答案
    best = select_best(results)  # 综合评分
    
    # 5. 输出前审核
    if best["risk"] > threshold:
        return fallback_answer()
    
    return best["answer"]
```

---

## 六、模型评测数据参考

基于本次评测结果：

| 模型 | 速度 | 准确度 | 幻觉率 | 代码能力 |
|------|------|--------|--------|----------|
| Llama 3.3 70B | 61秒 | ⭐⭐⭐⭐⭐ | 最低 | ✅ |
| Mixtral 8x7B | 42秒 | ⭐⭐⭐⭐ | 较少 | ⚠️ 有bug |
| MiniMax M2.5 | 117秒 | ⭐⭐⭐ | 中等 | ✅ |
| Phi-4 Mini | 227秒 | ⭐⭐ | 较高 | ❌ 有严重bug |

---

## 七、监控与迭代

- **日志记录**：记录所有审核拦截和模型输出
- **定期审计**：分析误拦截、漏放过的案例
- **模型对比**：持续评估各模型在真实场景的表现
- **动态阈值**：根据用户反馈调整审核严格度

---

## 八、实施建议

1. **先上规则层**：低成本，快速见效
2. **再上事实核查**：针对高风险场景
3. **最后多模型**：根据成本收益逐步引入
4. **持续监控**：建立反馈闭环

---

*生成时间：2026-02-28*
*评测模型：MiniMax M2.5, Llama 3.3 70B, Mixtral 8x7B, Phi-4 Mini*
